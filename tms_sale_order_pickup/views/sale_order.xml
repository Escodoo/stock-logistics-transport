<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright 2024 - TODAY, Marcel Savegnago <marcel.savegnago@escodoo.com.br>
     License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->
<odoo>

    <record id="sale_order_view_form" model="ir.ui.view">
        <field name="name">sale.order.view.form.tms.sale.pickup</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form" />
        <field name="arch" type="xml">
            <xpath expr="//page[@name='tms_sale_page']/group" position="inside">
                <group name="tms_sale_pickup" string="Pickup Info">
                    <field name="tms_need_pickup_order" />

                    <field
                        name="tms_pickup_route_flag"
                        attrs="{'invisible': [('tms_need_pickup_order', '=', False)]}"
                    />

                    <field
                        name="tms_pickup_route_id"
                        attrs="{'invisible': ['|',('tms_need_pickup_order', '=', False), ('tms_pickup_route_flag', '=', False)], 'required': [('tms_pickup_route_flag', '=', True)]}"
                    />

                    <field
                        name="tms_pickup_origin_id"
                        attrs="{'invisible': ['|',('tms_need_pickup_order', '=', False), ('tms_pickup_route_flag', '=', True)]}"
                    />
                    <field
                        name="tms_pickup_destination_id"
                        attrs="{'invisible': ['|',('tms_need_pickup_order', '=', False), ('tms_pickup_route_flag', '=', True)], 'required': [('tms_pickup_route_flag', '=', False)]}"
                    />
                </group>
                <group
                    name="tms_schedule"
                    string="Schedule Pickup"
                    attrs="{'invisible': [('tms_need_pickup_order', '=', False)]}"
                >
                    <field name="tms_pickup_scheduled_date_start" />
                    <field name="tms_pickup_scheduled_duration" />
                    <field name="tms_pickup_scheduled_date_end" />
                </group>

            </xpath>
        </field>
    </record>


</odoo>
